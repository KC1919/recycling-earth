<%-include('partials/header.ejs')%>
<title>Login</title>
</head>
<body>
    <div>
        <h2>Welcome Back!</h2>
    </div>
    <div class="login">
        <input type="email" id="email" name="email" placeholder="Email">
        <input type="password" id="password" name="password" placeholder="Password">
        <button type="submit" onclick="handleLogin(event)">Login</button>
    </div>

    <script>
        async function handleLogin(e){
            const email=document.getElementById("email").value;
            const password=document.getElementById("password").value;

            console.log(email);
            console.log(password);

            const response=await fetch("/auth/login",{
                method:"POST",
                mode:"cors",
                headers:{"Content-Type":"application/json"},
                body:JSON.stringify({"email":email,"password":password})
            });

            const json=await response.json();
            console.log(json);
        }
    </script>
</body>
</html>